{"key":"tilelinkcourse","name":"Tile Link - Course","instructions":"","requirecss":"","requirejs":"","shim":"","defaults":"colour=\"tile1|tile2|tile3|tile4|tile5|tile6\",tiletext=\"Your message goes here.\",courseid=\"Course ID\",link=\"link goes here\"","amd":"1","body":"<a\n    class=\"lol-tile-link-course\"\n    href=\"@@link@@\"\n    target=\"_blank\"\n>\n    <div class=\"lol-tile-link-course__wrapper\">\n        <div\n            class=\"lol-tile-link-course__content\"\n            style=\"background-image: url(@@DATASET:path@@);\"\n        >\n            <div\n                class=\"lol-tile-link-course__foreground\"\n                style=\"background-image: url(@@DATASET:link@@/public/images/tiles/foregrounds/@@colour@@.png)\"\n            >\n                <div class=\"lol-tile-link-course__text\">\n                    @@tiletext@@\n                </div>\n            </div>\n        </div>\n    </div>\n</a>\n","bodyend":"","script":"","style":".lol-tile-link-course__wrapper {\n    align-items: stretch;\n    height: 150px;\n    padding: 0;\n    width: 225px;\n\n    background: #FFF;\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n}\n\n\n.lol-tile-link-course__content {\n    align-items: stretch;\n    padding: 0;\n\n    background-repeat: no-repeat;\n    background-size: var(--tile-bg-width, auto) var(--tile-bg-height, 115px);\n    background-position: bottom right;\n}\n\n.lol-tile-link-course__foreground {\n    align-items: stretch;\n    height: 150px;\n    width: 225px;\n    vertical-align: bottom;\n\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: var(--tile-fg-offset-x, right) var(--tile-fg-offset-y, bottom);\n}\n\n.lol-tile-link-course__text {\n    width: 50%;\n    padding: 5px;\n\n    color: #FFF;\n    font-weight: bold;\n    font-size: 18px;\n    font-family: Helvetica, sans-serif;\n}\n","dataset":"SELECT  c.id,\n        c.fullname,\n        f.filename,\n        c.fullname as 'coursename',\n        config.value AS 'link',\n        IF(\n            f.filename IS NULL,\n            'https://cdn.sclol.scc.health.qld.gov.au/public/EducationHat2.jpg',\n            CONCAT(\n                '/pluginfile.php/',\n                ctx.id,\n                '/course/overviewfiles/',\n                replace(f.filename, ' ', '%20')\n            )\n        ) AS 'path'\n\nFROM    {course} c\n        JOIN {repository} repo ON\n            repo.type = 'cloudfront'\n        JOIN {repository_instances} repo_instances ON\n            repo_instances.typeid = repo.id\n        JOIN {repository_instance_config} config ON\n            config.instanceid = repo_instances.id AND\n            config.name = 'domain'\n        JOIN {context} ctx ON\n            ctx.instanceid = c.id AND\n            ctx.contextlevel = 50\n        LEFT JOIN {files} f ON\n            f.contextid = ctx.id AND\n            f.filearea = 'overviewfiles' AND\n            f.filename != '.'\n\nWHERE   c.id = ?\n","datasetvars":"@@courseid@@","alternate":"","alternateend":"","version":"1.1.1"}