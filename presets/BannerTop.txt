{"key":"BannerTop","name":"Course Banner Top","instructions":"","requirecss":"","requirejs":"","shim":"","defaults":"colour=\"banner1|banner2|banner3|banner4|banner5|banner6\"","amd":"0","body":"","bodyend":"","script":"const fullDataset = '@@DATASET@@';\nconst dataset = Object.values(fullDataset)[0];\nconst colour = '@@colour@@';\n\nconst formatFunction = () => {\n  // reformat the Title bar.\n  const firstOuterBox = document.getElementsByClassName(\"dashboard-bar-wrapper\")[0];\n  firstOuterBox.classList.add(dataset.fontsize);\n  firstOuterBox.classList.add(colour);\n  firstOuterBox.style.backgroundColor = `var(--${colour})`;\n  firstOuterBox.style.backgroundImage = `url(${dataset.path})`;\n\n  const secondOuterBox = document.getElementsByClassName(\"page-context-header\")[0];\n  secondOuterBox.style.backgroundImage = `url(${dataset.link}/public/images/banner/${colour}.png)`;\n};\n\nformatFunction();\n","style":"#page-header .dashboard-bar-wrapper {\n    height: 150px;\n    width: 100%;\n    align-items: stretch;\n    padding: 0;\n\n    border-radius: 7px;\n    background-color: white;\n    background-position: right;\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n}\n\n#page-header .dashboard-bar-wrapper .page-context-header {\n    height: 150px;\n    margin-right: 0;\n    vertical-align: top;\n\n    color: white;\n    border-radius: 7px;\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: right;\n}\n\n#page-header .dashboard-bar-wrapper .page-header-headings {\n    height: 150px;\n    width: 70%;\n    padding-left: 30px;\n    align-content: center;\n    display: inline-block;\n}\n\n#page-header .dashboard-bar-wrapper .page-header-headings .header-heading {\n    color: #ffffff;\n}\n#page-header .dashboard-bar-wrapper.font60 .page-header-headings .header-heading {\n    font-size: 3.0rem;\n}\n#page-header .dashboard-bar-wrapper.font45 .page-header-headings .header-heading {\n    font-size: 2.0rem;\n}\n#page-header .dashboard-bar-wrapper.font30 .page-header-headings .header-heading {\n    font-size: 1.0rem;\n}\n","dataset":"SELECT  c.id,\n        c.fullname,\n        f.filename,\n        c.fullname as 'coursename',\n        config.value AS 'link',\n        IF(\n            f.filename IS NULL,\n            'https://cdn.sclol.scc.health.qld.gov.au/public/EducationHat2.jpg',\n            CONCAT('/pluginfile.php/', ctx.id, '/course/overviewfiles/', replace(f.filename, ' ', '%20'))\n        ) AS 'path',\n        CASE\n            WHEN CHAR_LENGTH(c.fullname) < 35 THEN 'font60'\n            WHEN CHAR_LENGTH(c.fullname) < 70 THEN 'font45'\n            ELSE 'font30'\n        END AS 'fontsize'\n\nFROM    {course} c\n        JOIN {context} ctx ON\n            ctx.instanceid = c.id AND\n            ctx.contextlevel = 50\n        JOIN {repository} repo ON\n            repo.type = 'cloudfront'\n        JOIN {repository_instances} repo_instances ON\n            repo_instances.typeid = repo.id\n        JOIN {repository_instance_config} config ON\n            config.instanceid = repo_instances.id AND\n            config.name = 'domain'\n        LEFT JOIN {files} f ON\n            f.contextid = ctx.id AND\n            f.filearea = 'overviewfiles' AND\n            f.filename != '.'\n\nWHERE   c.id = ?","datasetvars":"@@COURSE:id@@","alternate":"","alternateend":"","version":"1.3.2"}